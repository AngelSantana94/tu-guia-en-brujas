@use '../abstracts' as *;
.tours {
  background-color: $white;
  padding: 4rem 2rem;
  text-align: center;
  
  &__title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 3rem;
    color: #000;

    .tours__highlight {
      color: #8a3cb8;
    }
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    justify-items: center;
    align-items: start;
  }

  /* -------------------------
      TARJETA (estado inicial)
      ------------------------- */
  &__card { 
    width: 100%;
    max-width: 380px;
    
    /* Dejamos la tarjeta padre completamente transparente, sin fondo ni sombra. */
    background-color: transparent;
    border-radius: 1rem;
    box-shadow: none;
    overflow: hidden;
    /* Ahora solo se transiciona el transform para el hover */
    transition: transform 0.35s ease;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    will-change: transform;

    /* Mantener altura para evitar saltos de layout (ajusta si necesitas) */
    min-height: 360px;

    &:hover {
      transform: translateY(-5px);
      /* La sombra del hover se aplicará al &__card-content */
    }
  }

  /* -----------------------------------------
      CLASE DE VISIBILIDAD (Mantenida por el JS)
      ----------------------------------------- */
  /* La clase se mantiene, pero ya NO cambia el background-color o box-shadow del padre */
  &__card--visible {
    box-shadow: 0 4px 12px rgba(87, 2, 136, 0.25);
    /* Ahora solo sirve como selector para el contenido interno */
  }

  /* -------------------------
      Animación del contenido (AQUÍ ES DONDE SE APLICA EL FONDO)
      ------------------------- */
  &__card-content {
    /* ESTADO INICIAL: Invisible y transparente */
    opacity: 0;
    background-color: transparent;    /* Inicia transparente para evitar el destello */
    box-shadow: none;                 /* Inicia sin sombra */
    border-radius: 1rem;              /* Importante para que la sombra se vea bien */
    
    transform: translateY(0);
    /* AÑADIMOS background-color y box-shadow a la transición */
    transition: 
      transform 0.8s ease, 
      opacity 0.8s ease,
      background-color 0.8s ease,
      box-shadow 0.35s ease; /* Transición más rápida para la sombra */
      
    will-change: transform, opacity, background-color, box-shadow;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;

    /* animaciones según data-anim */
    &[data-anim="left"] {
      transform: translateX(-100px);
    }

    &[data-anim="right"] {
      transform: translateX(100px);
    }

    &[data-anim="bottom"] {
      transform: translateY(100px);
    }

    /* CUANDO ES VISIBLE: Se anima el contenido Y EL FONDO SIMULTÁNEAMENTE */
    .tours__card--visible & {
      opacity: 1;
      
      background-color: #fff;           
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transform: translateX(0) translateY(0);
      transition-delay: 0.05s; /* Pequeño delay */
    }
    
    /* ESTADO HOVER: La sombra se aplica aquí, ya que el fondo está aquí */
    .tours__card:hover & {
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
  }

  /* -------------------------
      Contenido visual (sin cambios)
      ------------------------- */
  &__image {
    width: 100%;
    height: 220px;
    object-fit: cover;
    display: block;
  }

  &__info {
    padding: 1.5rem;
    text-align: left;
  }

  &__details {
    background-color: rgba(190, 178, 178, 0.6);
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #3d3d3d;
    font-size: 0.95rem;
    margin-bottom: 1rem;
    padding: 8px 16px;
    border-radius: 10px;
  }

  &__name {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 2.5rem;
    color: #222;
  }

  &__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  &__rating {
    display: flex;
    align-items: center;
    font-weight: 600;
    color: #008484;

    i {
      font-size: 1.2rem;
      margin-right: 0.4rem;
    }
  }

  &__button {
    font-size: 15px;
    background-color: #8a3cb8;
    color: #fff;
    border: none;
    padding: 0.6rem 0.8rem;
    border-radius: 2rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;

    &:hover {
      background-color: #570288;
    }
  }
}

/* Media queries si quieres ajustar altura/espaciado en móviles (sin cambios) */
@media (max-width: 480px) {
  .tours {
    padding: 2.5rem 1rem;

    &__card {
      min-height: 380px;
    }

    &__image {
      height: 200px;
    }
  }
}
